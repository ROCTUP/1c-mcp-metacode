# .env.example — пример файла окружения для настройки 
# Копируйте как .env и правьте значения под свою среду.
#
# Примечания по типам значений:
# - Логические: true/false, 1/0, yes/no, on/off (регистр не важен)
# - Списки/словари: указывать в формате JSON, например ["A","B"] или {"key":["v1","v2"]}
# - Пути: для контейнера путь по умолчанию /app/data (смонтированный volume)

############################
# OpenAI / LLM настройки
############################
# Обязательно нужно указывать если TEMPLATE_MODE_ONLY=false

# Ключ доступа (обязательно для LLM-режима)
OPENAI_API_KEY=

# Базовый URL API. По умолчанию используется OpenRouter (совместимый с OpenAI API)
# Для использования локальный моделей на том же компьютере укажите http://host.docker.internal:1234/v1
OPENAI_API_BASE=https://openrouter.ai/api/v1

# Модель LLM
# Пример: google/gemini-2.5-flash, gpt-4o-mini, или совместимая у кастом-провайдера
OPENAI_MODEL=google/gemini-2.5-flash

############################
# Embedding API настройки (для векторного поиска)
############################
# Базовый URL API для эмбеддингов
EMBEDDING_API_BASE=http://host.docker.internal:1234/v1

# Ключ доступа к API эмбеддингов
EMBEDDING_API_KEY=lm-api-key  # Для LM Studio можно указать любое значение

# Модель эмбеддингов (например, qwen3-embedding-4b, jina-embeddings-v3, user-bge-m3)
EMBEDDING_MODEL=text-embedding-qwen3-embedding-0.6b

# Включить векторную индексацию для описаний процедур/функций
ENABLE_ROUTINE_DESCRIPTION_EMBEDDING=false

# Включить векторную индексацию для описаний метаданных 
ENABLE_METADATA_DESCRIPTION_EMBEDDING=false

############################
# Настройки Neo4j
############################

# Пароль БД (обязательно)
NEO4J_PASSWORD=

############################
# MCP сервер
############################

# Транспорт MCP: если true — SSE, иначе streamable-http
MCP_USE_SSE=false

############################
# Загрузка данных
############################
# Управление загрузкой предопределенных значений (Predefined.xml):
# - true — парсить и загружать предопределенные значения (по умолчанию)
# - false — пропустить этап Predefined.xml
LOAD_PREDEFINED_VALUES=true

# Управление загрузкой форм из Ext/Form.xml:
# - true — парсить и загружать определения форм (по умолчанию)
# - false — пропустить этап Form.xml (ускоряет загрузку, уменьшает объем графа)
LOAD_FORMS_FROM_XML=true

# Управление загрузкой прав ролей из Roles/*/Ext/Rights.xml:
# - true — загружать права ролей (по умолчанию)
# - false — пропустить импорт прав
LOAD_ROLE_RIGHTS=true

# Сканирование и импорт сигнатур BSL из файлов .bsl (модули, процедуры/функции, вызовы)
# - true — включить парсинг и загрузку BSL (по умолчанию)
# - false — пропустить этап BSL
LOAD_BSL_SIGNATURES=true

# Загрузка подписок на события из каталога EventSubscriptions/*.xml
# - true — включить парсинг и загрузку подписок (по умолчанию)
# - false — пропустить этап подписок
LOAD_EVENT_SUBSCRIPTIONS=true

# Управление загрузкой справок Help/ru.html для объектов метаданных:
# - true — парсить и загружать справку (по умолчанию)
# - false — пропустить этап справки
LOAD_HELP_FROM_HTML=true

############################
# Режим шаблонов (без LLM)
############################
# Включить поддержку Template JSON вместе с естественным языком
TEMPLATE_MODE_ENABLED=true

# Включить только Template JSON (полностью отключить использование LLM)
TEMPLATE_MODE_ONLY=true

